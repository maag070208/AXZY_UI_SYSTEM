import{j as t}from"./jsx-runtime-D_zvdyIk.js";import{c as x}from"./clsx-B-dksMZM.js";import{r as n}from"./iframe-Dr0sZusW.js";import{t as D}from"./index-CJju9sOb.js";import{I as F}from"./input-DHyUlz16.js";import{I as G}from"./button-B3GxPMjY.js";import{t as w}from"./theme-CuplGK4O.js";function J({name:l,value:m,label:I,placeholder:H="HH:MM",onChange:h,onBlur:j,required:S,touched:M,error:k,disabled:p,className:E,size:V="medium",variant:$="primary",color:f="primary"}){const[g,b]=n.useState(!1),[s,v]=n.useState(m||""),[R,i]=n.useState(!0),T=n.useRef(null),o=n.useRef(null),u=n.useRef(null),q=f in w.colors,C=q?w.colors[f][50]:"#f3f4f6",N=q?w.colors[f][100]:"#e5e7eb";n.useEffect(()=>{v(m||"")},[m]),n.useEffect(()=>{const e=r=>{T.current&&!T.current.contains(r.target)&&b(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]);const y=e=>/^([01]\d|2[0-3]):([0-5]\d)$/.test(e),c=y(s)?s.split(":")[0]:null,d=y(s)?s.split(":")[1]:null;n.useEffect(()=>{g&&setTimeout(()=>{if(o.current&&c){const e=o.current.querySelector(`[data-value="${c}"]`);e&&(o.current.scrollTop=e.offsetTop-o.current.clientHeight/2+e.clientHeight/2)}if(u.current&&d){const e=u.current.querySelector(`[data-value="${d}"]`);e&&(u.current.scrollTop=e.offsetTop-u.current.clientHeight/2+e.clientHeight/2)}},50)},[g,c,d]);const L=e=>{let r=e.target.value.replace(/\D/g,"");r.length>4&&(r=r.slice(0,4)),r.length>=3&&(r=`${r.slice(0,2)}:${r.slice(2)}`),v(r),y(r)?(i(!0),h({target:{name:l,value:r}})):i(!1)},z=()=>{if(!y(s)){i(!1),j({target:{name:l,value:m}});return}i(!0),j({target:{name:l,value:s}})},_=e=>{const a=`${e}:${d||"00"}`;v(a),h({target:{name:l,value:a}}),i(!0)},A=e=>{const a=`${c||"00"}:${e}`;v(a),h({target:{name:l,value:a}}),i(!0)},B=()=>{b(!1)},O=Array.from({length:24},(e,r)=>r.toString().padStart(2,"0")),P=Array.from({length:60},(e,r)=>r.toString().padStart(2,"0"));return t.jsxs("div",{ref:T,className:x("relative w-full",E),children:[t.jsx(F,{name:l,label:I,placeholder:H,type:"text",value:s,onChange:L,onBlur:z,maxLength:5,required:S,disabled:p,variant:$,size:V,touched:M,error:R?typeof k=="string"?k:void 0:"Hora invÃ¡lida",iconRight:t.jsx(D,{onClick:()=>!p&&b(!g),className:x("cursor-pointer transition-colors",p?"text-slate-400 cursor-not-allowed":"text-slate-900 hover:text-slate-600")})}),g&&!p&&t.jsxs("div",{className:"absolute z-[9999] bg-white border border-gray-100 shadow-xl rounded-xl mt-2 w-64 overflow-hidden flex flex-col animate-in fade-in zoom-in-95 duration-200 origin-top",children:[t.jsxs("div",{className:"flex bg-gray-50 border-b border-gray-100 text-xs font-semibold text-gray-500 uppercase tracking-wider",children:[t.jsx("div",{className:"flex-1 text-center py-2 border-r border-gray-100",children:"Horas"}),t.jsx("div",{className:"flex-1 text-center py-2",children:"Minutos"})]}),t.jsxs("div",{className:"flex h-56 relative bg-white",children:[t.jsx("div",{ref:o,className:"flex-1 overflow-y-auto no-scrollbar border-r border-gray-50 scroll-smooth relative",children:t.jsx("div",{className:"py-2",children:O.map(e=>{const r=c===e;return t.jsx("div",{"data-value":e,className:x("text-center py-2 cursor-pointer transition-all duration-200 text-sm font-medium mx-2 rounded-lg my-1",r?"text-slate-900 shadow-sm":"text-slate-600 hover:text-slate-900"),style:{backgroundColor:r?N:void 0},onMouseEnter:a=>{r||(a.currentTarget.style.backgroundColor=C)},onMouseLeave:a=>{r||(a.currentTarget.style.backgroundColor="transparent")},onClick:()=>_(e),children:e},e)})})}),t.jsx("div",{ref:u,className:"flex-1 overflow-y-auto no-scrollbar scroll-smooth relative",children:t.jsx("div",{className:"py-2",children:P.map(e=>{const r=d===e;return t.jsx("div",{"data-value":e,className:x("text-center py-2 cursor-pointer transition-all duration-200 text-sm font-medium mx-2 rounded-lg my-1",r?"text-slate-900 shadow-sm":"text-slate-600 hover:text-slate-900"),style:{backgroundColor:r?N:void 0},onMouseEnter:a=>{r||(a.currentTarget.style.backgroundColor=C)},onMouseLeave:a=>{r||(a.currentTarget.style.backgroundColor="transparent")},onClick:()=>A(e),children:e},e)})})}),t.jsx("div",{className:"absolute top-1/2 left-0 right-0 h-10 -mt-5 bg-black/5 pointer-events-none border-y border-black/10 z-10"})]}),t.jsx("div",{className:"p-3 bg-gray-50 border-t border-gray-100 flex justify-end",children:t.jsx(G,{variant:"solid",color:f,size:"small",onClick:B,children:"Aceptar"})})]})]})}J.__docgenInfo={description:"",methods:[],displayName:"ITTimePicker",props:{name:{required:!0,tsType:{name:"string"},description:""},value:{required:!1,tsType:{name:"string"},description:""},label:{required:!1,tsType:{name:"string"},description:""},placeholder:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:'"HH:MM"',computed:!1}},onChange:{required:!0,tsType:{name:"signature",type:"function",raw:"(e: any) => void",signature:{arguments:[{type:{name:"any"},name:"e"}],return:{name:"void"}}},description:""},onBlur:{required:!0,tsType:{name:"signature",type:"function",raw:"(e: any) => void",signature:{arguments:[{type:{name:"any"},name:"e"}],return:{name:"void"}}},description:""},required:{required:!1,tsType:{name:"boolean"},description:""},touched:{required:!1,tsType:{name:"boolean"},description:""},error:{required:!1,tsType:{name:"union",raw:"string | boolean",elements:[{name:"string"},{name:"boolean"}]},description:""},disabled:{required:!1,tsType:{name:"boolean"},description:""},className:{required:!1,tsType:{name:"string"},description:""},size:{required:!1,tsType:{name:"union",raw:'"small" | "medium" | "large"',elements:[{name:"literal",value:'"small"'},{name:"literal",value:'"medium"'},{name:"literal",value:'"large"'}]},description:"",defaultValue:{value:'"medium"',computed:!1}},variant:{required:!1,tsType:{name:"union",raw:'"primary" | "secondary" | "danger" | "success" | "warning" | "info" | "purple"',elements:[{name:"literal",value:'"primary"'},{name:"literal",value:'"secondary"'},{name:"literal",value:'"danger"'},{name:"literal",value:'"success"'},{name:"literal",value:'"warning"'},{name:"literal",value:'"info"'},{name:"literal",value:'"purple"'}]},description:"",defaultValue:{value:'"primary"',computed:!1}},color:{required:!1,tsType:{name:"union",raw:'"primary" | "secondary" | "danger" | "success" | "warning" | "info" | "purple" | string',elements:[{name:"literal",value:'"primary"'},{name:"literal",value:'"secondary"'},{name:"literal",value:'"danger"'},{name:"literal",value:'"success"'},{name:"literal",value:'"warning"'},{name:"literal",value:'"info"'},{name:"literal",value:'"purple"'},{name:"string"}]},description:"",defaultValue:{value:'"primary"',computed:!1}}}};export{J as I};
