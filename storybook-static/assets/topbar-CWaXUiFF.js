import{j as e}from"./jsx-runtime-D_zvdyIk.js";import{y as Q,z as V}from"./index-CJju9sOb.js";import{u as W}from"./useClickOutside-ChOZK0rr.js";import{r as J}from"./iframe-Dr0sZusW.js";import{t as r}from"./theme-CuplGK4O.js";function X({logo:p,logoText:b,userMenu:a,showMobileMenuButton:K,onToggleMobileMenu:P,navItems:u,onNavItemClick:c}){var f,x,y,h,v,C,k,j,N,w,T,M,q,I,B,E,L,z,_,H,O,R,U,$,A,F;const[i,m]=J.useState(!1),g=J.useRef(null);return W(g,()=>m(!1)),e.jsx("header",{className:"sticky top-0 z-40 backdrop-blur-md transition-all duration-300",style:{backgroundColor:((f=r.topbar)==null?void 0:f.backgroundColor)||"rgba(255, 255, 255, 0.9)",borderBottom:`1px solid ${((x=r.topbar)==null?void 0:x.borderColor)||"#e2e8f0"}`,boxShadow:((y=r.topbar)==null?void 0:y.shadow)||"none"},children:e.jsxs("div",{className:"flex items-center justify-between h-[72px] px-6 lg:px-8",children:[e.jsxs("div",{className:"flex items-center gap-5",children:[K&&e.jsx("button",{className:"lg:hidden p-2.5 rounded-xl transition-colors duration-200",style:{color:((h=r.topbar)==null?void 0:h.iconColor)||"#64748b"},onMouseEnter:o=>{var s,t;return o.currentTarget.style.backgroundColor=((t=(s=r.topbar)==null?void 0:s.userMenu)==null?void 0:t.hoverBackground)||"#f1f5f9"},onMouseLeave:o=>o.currentTarget.style.backgroundColor="transparent",onClick:P,children:e.jsx(Q,{className:"w-[1.125rem] h-[1.125rem]"})}),e.jsxs("div",{className:"flex items-center gap-3",children:[p&&e.jsx("div",{className:"flex-shrink-0 drop-shadow-sm",children:p}),b&&e.jsx("span",{className:"text-[1.15rem] font-bold tracking-tight",style:{color:((v=r.topbar)==null?void 0:v.textHoverColor)||"#0f172a"},children:b})]}),u&&u.length>0&&e.jsx("nav",{className:"hidden md:flex ml-8 space-x-1 border-l pl-8",style:{borderColor:((C=r.topbar)==null?void 0:C.borderColor)||"#e2e8f0"},children:u.map(o=>{var s;return e.jsx("button",{onClick:()=>c==null?void 0:c(o.id),className:"px-4 py-2 rounded-lg font-medium text-[0.9rem] transition-all duration-200 ease-[cubic-bezier(0.2,0,0,1)]",style:{color:((s=r.topbar)==null?void 0:s.textColor)||"#475569"},onMouseEnter:t=>{var n,d,l;t.currentTarget.style.color=((n=r.topbar)==null?void 0:n.textHoverColor)||"#0f172a",t.currentTarget.style.backgroundColor=((l=(d=r.topbar)==null?void 0:d.userMenu)==null?void 0:l.hoverBackground)||"#f1f5f9"},onMouseLeave:t=>{var n;t.currentTarget.style.color=((n=r.topbar)==null?void 0:n.textColor)||"#475569",t.currentTarget.style.backgroundColor="transparent"},children:e.jsxs("div",{className:"flex items-center gap-2",children:[o.icon&&e.jsx("span",{className:"opacity-70",children:o.icon}),o.label]})},o.id)})})]}),a&&e.jsxs("div",{className:"relative",children:[e.jsxs("button",{type:"button",className:"flex items-center gap-3 rounded-full pl-2 pr-4 py-1.5 transition-all duration-200 ease-[cubic-bezier(0.2,0,0,1)] border border-transparent hover:border-gray-200",style:{backgroundColor:i?((j=(k=r.topbar)==null?void 0:k.userMenu)==null?void 0:j.hoverBackground)||"#f1f5f9":"transparent"},onMouseEnter:o=>{var s,t;i||(o.currentTarget.style.backgroundColor=((t=(s=r.topbar)==null?void 0:s.userMenu)==null?void 0:t.hoverBackground)||"#f1f5f9")},onMouseLeave:o=>{i||(o.currentTarget.style.backgroundColor="transparent")},onClick:()=>m(!i),children:[e.jsxs("div",{className:"relative",children:[a.userImage?e.jsx("img",{className:"w-9 h-9 rounded-full object-cover ring-2 ring-white shadow-sm",src:a.userImage,alt:"Current user"}):e.jsx("div",{className:"w-9 h-9 rounded-full bg-slate-100 flex items-center justify-center ring-2 ring-white shadow-sm",children:e.jsx(V,{className:"w-6 h-6",style:{color:((N=r.topbar)==null?void 0:N.iconColor)||"#94a3b8"}})}),e.jsx("div",{className:"absolute bottom-0 right-0 w-2.5 h-2.5 bg-green-500 border-2 border-white rounded-full"})]}),e.jsxs("div",{className:"hidden sm:flex flex-col text-left py-0.5",children:[e.jsx("span",{className:"font-semibold text-[0.85rem] leading-tight",style:{color:((T=(w=r.topbar)==null?void 0:w.userMenu)==null?void 0:T.textColor)||"#0f172a"},children:a.userName}),e.jsx("span",{className:"text-[0.7rem] font-medium",style:{color:((q=(M=r.topbar)==null?void 0:M.userMenu)==null?void 0:q.subtitleColor)||"#64748b"},children:a.userEmail})]})]}),e.jsxs("div",{ref:g,className:`
                absolute right-0 mt-3 w-64 rounded-2xl shadow-[0_10px_40px_-10px_rgba(0,0,0,0.15)] z-50 overflow-hidden transform origin-top-right transition-all duration-200 ease-[cubic-bezier(0.2,0,0,1)]
                ${i?"scale-100 opacity-100 translate-y-0":"scale-95 opacity-0 -translate-y-2 pointer-events-none"}
              `,style:{backgroundColor:((E=(B=(I=r.topbar)==null?void 0:I.userMenu)==null?void 0:B.dropdown)==null?void 0:E.backgroundColor)||"#ffffff",border:`1px solid ${((_=(z=(L=r.topbar)==null?void 0:L.userMenu)==null?void 0:z.dropdown)==null?void 0:_.borderColor)||"#f1f5f9"}`},children:[e.jsxs("div",{className:"px-5 py-4 border-b bg-slate-50/50",style:{borderColor:((R=(O=(H=r.topbar)==null?void 0:H.userMenu)==null?void 0:O.dropdown)==null?void 0:R.borderColor)||"#f1f5f9"},children:[e.jsx("span",{className:"block font-bold text-[0.9rem]",style:{color:(($=(U=r.topbar)==null?void 0:U.userMenu)==null?void 0:$.textColor)||"#0f172a"},children:a.userName}),e.jsx("span",{className:"block text-xs font-medium truncate mt-0.5",style:{color:((F=(A=r.topbar)==null?void 0:A.userMenu)==null?void 0:F.subtitleColor)||"#64748b"},children:a.userEmail})]}),e.jsx("ul",{className:"py-2",children:a.menuItems.map((o,s)=>{var n,d;const t=o.label.toLowerCase().includes("salir")||o.label.toLowerCase().includes("cerrar")||o.label.toLowerCase().includes("logout");return e.jsxs("li",{className:"px-2",children:[s===a.menuItems.length-1&&t&&s>0&&e.jsx("div",{className:"h-px bg-slate-100 my-1 mx-2"}),e.jsx("button",{onClick:l=>{o.onClick(),m(!1)},className:"block w-full text-left px-3 py-2.5 rounded-xl text-[0.875rem] font-medium transition-colors duration-150",style:{color:t?"#ef4444":((d=(n=r.topbar)==null?void 0:n.userMenu)==null?void 0:d.textColor)||"#334155"},onMouseEnter:l=>{var S,D,G;l.currentTarget.style.backgroundColor=t?"#fef2f2":((G=(D=(S=r.topbar)==null?void 0:S.userMenu)==null?void 0:D.dropdown)==null?void 0:G.itemHoverBackground)||"#f8fafc"},onMouseLeave:l=>{l.currentTarget.style.backgroundColor="transparent"},children:o.label})]},s)})})]})]})]})})}X.__docgenInfo={description:"",methods:[],displayName:"ITTopBar",props:{logo:{required:!1,tsType:{name:"any"},description:""},logoText:{required:!1,tsType:{name:"string"},description:""},userMenu:{required:!1,tsType:{name:"signature",type:"object",raw:`{
  userName: string;
  userEmail: string;
  userImage?: string;
  menuItems: { label: string; onClick: () => void }[];
}`,signature:{properties:[{key:"userName",value:{name:"string",required:!0}},{key:"userEmail",value:{name:"string",required:!0}},{key:"userImage",value:{name:"string",required:!1}},{key:"menuItems",value:{name:"Array",elements:[{name:"signature",type:"object",raw:"{ label: string; onClick: () => void }",signature:{properties:[{key:"label",value:{name:"string",required:!0}},{key:"onClick",value:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}},required:!0}}]}}],raw:"{ label: string; onClick: () => void }[]",required:!0}}]}},description:""},navItems:{required:!1,tsType:{name:"Array",elements:[{name:"ITTopBarNavItem"}],raw:"ITTopBarNavItem[]"},description:""},onNavItemClick:{required:!1,tsType:{name:"signature",type:"function",raw:"(id: string) => void",signature:{arguments:[{type:{name:"string"},name:"id"}],return:{name:"void"}}},description:""},showMobileMenuButton:{required:!1,tsType:{name:"boolean"},description:""},onToggleMobileMenu:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""}}};export{X as I};
